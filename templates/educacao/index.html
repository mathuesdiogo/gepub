{% extends "educacao/base_modulo.html" %}
{% block title %}Educação • GEPUB{% endblock %}

{% block breadcrumbs %}
  <div class="breadcrumbs">
    <a class="breadcrumbs__link" href="{% url 'core:dashboard' %}">Início</a>
    <span class="breadcrumbs__sep">/</span>
    <span class="breadcrumbs__current">Educação</span>
  </div>
{% endblock %}

{% block module_content %}
  <div class="card edu-dashboard"><div class="card__body">
    {% include "core/partials/components/layout/page_head.html" with title="Educação" subtitle="Gestão escolar integrada" actions=None %}

    <section class="edu-hero">
      <div class="edu-hero__content">
        <div class="edu-hero__eyebrow">School Management</div>
        <h2 class="edu-hero__title">Painel acadêmico com foco em operação diária</h2>
        <p class="edu-hero__text">
          Acompanhe turmas, alunos, matrículas e rotinas pedagógicas em um fluxo único,
          com atalhos rápidos para as tarefas mais frequentes.
        </p>
        <div class="edu-hero__chips">
          <span class="edu-chip"><i class="fa-solid fa-school"></i>{{ unidades_total }} unidades</span>
          <span class="edu-chip"><i class="fa-solid fa-people-group"></i>{{ turmas_total }} turmas</span>
          <span class="edu-chip"><i class="fa-solid fa-user-graduate"></i>{{ alunos_total }} alunos</span>
          <span class="edu-chip"><i class="fa-solid fa-id-card"></i>{{ matriculas_total }} matrículas</span>
        </div>
      </div>
      <div class="edu-hero__actions">
        {% if is_professor_role %}
          <a class="btn btn-primary" href="{% url 'educacao:turma_list' %}">
            <i class="fa-solid fa-people-group"></i><span>Minhas Turmas</span>
          </a>
          <a class="btn btn--ghost" href="{% url 'educacao:aluno_list' %}">
            <i class="fa-solid fa-user-graduate"></i><span>Meus Alunos</span>
          </a>
          <a class="btn btn--ghost" href="{% url 'educacao:meus_diarios' %}">
            <i class="fa-solid fa-book"></i><span>Diário de Classe</span>
          </a>
        {% else %}
          <a class="btn btn-primary" href="{% url 'educacao:turma_create' %}">
            <i class="fa-solid fa-plus"></i><span>Criar Turma</span>
          </a>
          <a class="btn btn--ghost" href="{% url 'educacao:aluno_create' %}">
            <i class="fa-solid fa-user-plus"></i><span>Cadastrar Aluno</span>
          </a>
          <a class="btn btn--ghost" href="{% url 'educacao:censo_escolar' %}">
            <i class="fa-solid fa-database"></i><span>Censo Escolar</span>
          </a>
        {% endif %}
      </div>
    </section>

    <div class="edu-kpis">
      <a class="edu-kpi" href="{% if is_professor_role %}{% url 'educacao:turma_list' %}{% else %}{% url 'org:unidade_list' %}{% endif %}">
        <div>
          <div class="edu-kpi__label">{% if is_professor_role %}Minhas Unidades{% else %}Unidades{% endif %}</div>
          <div class="edu-kpi__value">{{ unidades_total }}</div>
          <div class="edu-kpi__meta">{% if is_professor_role %}Unidades das suas turmas{% else %}Escolas e creches{% endif %}</div>
        </div>
        <div class="edu-kpi__icon"><i class="fa-solid fa-school"></i></div>
      </a>

      <a class="edu-kpi" href="{% url 'educacao:turma_list' %}">
        <div>
          <div class="edu-kpi__label">Turmas</div>
          <div class="edu-kpi__value">{{ turmas_total }}</div>
          <div class="edu-kpi__meta">Organização por unidade e etapa</div>
        </div>
        <div class="edu-kpi__icon"><i class="fa-solid fa-people-group"></i></div>
      </a>

      <a class="edu-kpi" href="{% url 'educacao:aluno_list' %}">
        <div>
          <div class="edu-kpi__label">Alunos</div>
          <div class="edu-kpi__value">{{ alunos_total }}</div>
          <div class="edu-kpi__meta">Acompanhamento e documentação</div>
        </div>
        <div class="edu-kpi__icon"><i class="fa-solid fa-user-graduate"></i></div>
      </a>

      <a class="edu-kpi" href="{% if is_professor_role %}{% url 'educacao:meus_diarios' %}{% else %}{% url 'educacao:matricula_create' %}{% endif %}">
        <div>
          <div class="edu-kpi__label">{% if is_professor_role %}Diários{% else %}Matrículas{% endif %}</div>
          <div class="edu-kpi__value">{{ matriculas_total }}</div>
          <div class="edu-kpi__meta">{% if is_professor_role %}Aulas, frequência e notas{% else %}Movimentação acadêmica{% endif %}</div>
        </div>
        <div class="edu-kpi__icon"><i class="fa-solid fa-book"></i></div>
      </a>
    </div>

    <section class="section edu-quick">
      <div class="section__header">
        <div class="section__title">Ações rápidas</div>
        <div class="section__meta">{% if is_professor_role %}Rotina docente{% else %}Gestão educacional{% endif %}</div>
      </div>

      <div class="link-list">
        {% if is_professor_role %}
          <a class="link-card edu-link-card" href="{% url 'educacao:turma_list' %}">
            <div>
              <div class="link-card__title">Minhas Turmas</div>
              <div class="link-card__meta">Visualizar turmas vinculadas ao seu perfil</div>
            </div>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
          <a class="link-card edu-link-card" href="{% url 'educacao:aluno_list' %}">
            <div>
              <div class="link-card__title">Meus Alunos</div>
              <div class="link-card__meta">Acompanhar estudantes matriculados nas suas turmas</div>
            </div>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
          <a class="link-card edu-link-card" href="{% url 'educacao:meus_diarios' %}">
            <div>
              <div class="link-card__title">Diário de Classe</div>
              <div class="link-card__meta">Lançamento de aulas, frequência e avaliações</div>
            </div>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
          <a class="link-card edu-link-card" href="{% url 'educacao:portal_professor' %}">
            <div>
              <div class="link-card__title">Portal do Professor</div>
              <div class="link-card__meta">Pendências e gestão de turmas</div>
            </div>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
        {% else %}
          <a class="link-card edu-link-card" href="{% url 'educacao:turma_create' %}">
            <div>
              <div class="link-card__title">Criar Turma</div>
              <div class="link-card__meta">Cadastrar nova turma vinculada à unidade</div>
            </div>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
          <a class="link-card edu-link-card" href="{% url 'educacao:aluno_create' %}">
            <div>
              <div class="link-card__title">Cadastrar Aluno</div>
              <div class="link-card__meta">Novo aluno com vínculo de matrícula</div>
            </div>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
          <a class="link-card edu-link-card" href="{% url 'educacao:censo_escolar' %}">
            <div>
              <div class="link-card__title">Censo Escolar</div>
              <div class="link-card__meta">Conferência e exportação INEP</div>
            </div>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
          <a class="link-card edu-link-card" href="{% url 'educacao:componente_list' %}">
            <div>
              <div class="link-card__title">Componentes Curriculares</div>
              <div class="link-card__meta">Disciplinas e componentes por etapa</div>
            </div>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
          <a class="link-card edu-link-card" href="{% url 'educacao:calendario_index' %}">
            <div>
              <div class="link-card__title">Calendário Educacional</div>
              <div class="link-card__meta">Dias letivos, feriados e bimestres</div>
            </div>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
          <a class="link-card edu-link-card" href="{% url 'educacao:portal_professor' %}">
            <div>
              <div class="link-card__title">Portal do Professor</div>
              <div class="link-card__meta">Diários, avaliações e pendências</div>
            </div>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
          <a class="link-card edu-link-card" href="{% url 'educacao:assistencia_index' %}">
            <div>
              <div class="link-card__title">Assistência Escolar</div>
              <div class="link-card__meta">Merenda e transporte escolar</div>
            </div>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
          <a class="link-card edu-link-card" href="{% url 'educacao:indicadores_gerenciais' %}">
            <div>
              <div class="link-card__title">Indicadores Gerenciais</div>
              <div class="link-card__meta">Rendimento, evasão e produtividade</div>
            </div>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
          {% if can_nee_view %}
            <a class="link-card edu-link-card" href="{% url 'nee:relatorios_index' %}">
              <div>
                <div class="link-card__title">Relatórios NEE</div>
                <div class="link-card__meta">Necessidades educacionais especiais</div>
              </div>
              <i class="fa-solid fa-arrow-right"></i>
            </a>
          {% endif %}
        {% endif %}
      </div>
    </section>
  </div></div>
{% endblock %}
