{% extends "core/base_public.html" %}
{% load static %}

{% block title %}Acesso • GEPUB{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/pages/login.css' %}">

<div class="suap-login">
  <section class="suap-login__hero">
    <div class="suap-login__left">
      <div class="suap-brand">
        <div class="suap-brand__line"></div>
        <div>
          <h1 class="suap-brand__title">GEPUB</h1>
          <p class="suap-brand__subtitle">Gestão Estratégica Pública</p>
        </div>
      </div>

      <p class="suap-brand__lead">
        Um software desenvolvido para instituições públicas e prefeituras, com gestão integrada e rastreabilidade total.
      </p>

      <ul class="suap-brand__highlights">
        <li>Onboarding por secretarias com ativação guiada</li>
        <li>Educação, Saúde, Financeiro, Compras e Contratos</li>
        <li>Permissões por escopo e trilhas de auditoria</li>
      </ul>
    </div>

    <div class="suap-login__right">
      <div class="suap-auth-card">
        <h2 class="suap-auth-card__title">Login</h2>
        <p class="suap-auth-card__subtitle">Acesse o GEPUB</p>

        {% if error %}
          <div class="suap-auth-card__alert">{{ error }}</div>
        {% endif %}

        <form method="post" class="suap-auth-card__form">
          {% csrf_token %}

          <label for="id_codigo_acesso">Código de acesso</label>
          <input
            id="id_codigo_acesso"
            type="text"
            name="codigo_acesso"
            value="{{ form.codigo_acesso.value|default:'' }}"
            required
            autocomplete="username"
            placeholder="Digite seu código"
          >

          <label for="id_password">Senha</label>
          <input
            id="id_password"
            type="password"
            name="password"
            required
            autocomplete="current-password"
            placeholder="Digite sua senha"
          >

          <button type="submit">Acessar</button>
        </form>

        <p class="suap-auth-card__help">
          Primeira senha padrão: CPF. Após o primeiro acesso, a troca de senha é obrigatória.
        </p>

        <div class="suap-auth-card__divider"></div>

        <a class="suap-auth-card__gov" href="{% url 'core:institucional_public' %}">
          Entrar com gov.br (implantação)
        </a>
      </div>
    </div>
  </section>

  <section class="suap-services">
    <details class="suap-services__panel" open>
      <summary>Serviços de Acesso Público</summary>

      <div class="suap-services__grid">
        <article class="suap-services__about">
          <h3>O que é esta seção?</h3>
          <p>
            Esta área reúne links públicos sobre o GEPUB, funcionalidades, documentação,
            transparência e canais institucionais para acesso rápido.
          </p>
        </article>

        <div class="suap-services__col">
          <h4>Consultas</h4>
          <a href="{% url 'core:institucional_public' %}">Página institucional</a>
          <a href="{% url 'core:documentacao_public' %}">Documentação da plataforma</a>
          <a href="{% url 'core:transparencia_public' %}">Transparência pública</a>
          <a href="{% url 'core:funcionalidades_public' %}">Funcionalidades</a>
        </div>

        <div class="suap-services__col">
          <h4>Gestão</h4>
          <a href="{% url 'core:sobre_public' %}">Sobre a GEPUB</a>
          <a href="{% url 'core:por_que_usar_public' %}">Por que usar</a>
          <a href="{% url 'core:institucional_public' %}#simulador">Simulador de aderência</a>
          <a href="{% url 'accounts:login' %}">Acesso institucional</a>
        </div>

        <div class="suap-services__col">
          <h4>Suporte</h4>
          <a href="{% url 'core:documentacao_public' %}">Guia inicial</a>
          <a href="{% url 'core:institucional_public' %}#contato">Falar com o time</a>
          <a href="{% url 'core:transparencia_public' %}">Base pública de eventos</a>
        </div>
      </div>
    </details>
  </section>
</div>
{% endblock %}
